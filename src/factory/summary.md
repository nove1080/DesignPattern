# 팩토리 패턴(Factory Pattern)
***
### 개요
- new 연산자를 사용하면 특정 구현에 의존하게 되는 것 아닌가?
- 특정 구현에 의존하지 않고 객체 인스턴스를 생성하는 방법은 없을까?

### 설명
- 팩토리: 객체 생성을 처리하는 클래스
- 객체 생성을 전담하는 팩토리를 두어 여기에서 객체 생성을 모두 처리한다.
- DIP(의존성 역전 원칙)을 준수하는 패턴 중 하나이다.


## 팩토리 메서드 패턴(factory method pattern)

### 팩토리 메서드(factory method)
```java
abstract Product factoryMethod(String type);
```
- abstract: 서브클래스에서 객체 생성을 책임지도록 한다.
- Product: 특정 객체를 반환하고, 그 객체는 보통 슈퍼클래스가 정의한 메소드 내에서 사용된다.

### 설명
- 객체를 생성할 때 필요한 인터페이스를 만들고 어떤 클래스의 인스턴스를 만들지는 서브클래스에서 결정한다. 
<br> 즉, 팩토리 메소드 패턴을 사용하면 클래스 인스턴스를 만드는 일을 서브클래스에게 맡기기 된다.

### 장점
- 객체 생성 코드를 모두 한 객체 또는 메서드에 넣어 코드의 중복을 제거할 수 있다.
- 객체 생성에 대한 관리를 한 객체 또는 메서드에서만 하면 된다.
- 객체 인스턴스를 생성할 때 인터페이스만 있으면 할 수 있다.
- 인터페이스를 바탕으로 프로그래밍하여 유연성과 확정성이 뛰어난 코드를 만들 수 있다.

### 다이어그램
![factoryMethod.png](..%2Fimages%2FfactoryMethod.png)

## 추상 팩토리 패턴(abstract factory pattern)

### 설명
- 구상 클래스에 의존하지 않고 서로 연관되거나 의존적인 객체들로 이루어진 객체군을 만드는 인터페이스를 제공하는 패턴

### 장점
- 관련성이 있는 여러 종류의 객체를 일관된 방식으로 생성하는 경우에 유용하다.

### 다이어그램
![abstractFactory.png](..%2Fimages%2FabstractFactory.png)


## 팩토리 메서드 패턴 vs 추상 팩토리 패턴

### 공통점
- 객체를 생성하는 패턴이다.
- 객체 생성을 캡슐화하여 애플리케이션과의 결합을 느슨하게 만들고 특정 구현에 덜 의존적으로 만들 수 있다.
- 두 디자인 패턴 모두 애플리케이션을 특정 구현으로부터 분리시키기 위해 사용된다.

### 차이점
- 팩토리 메서드 패턴: 클래스를 사용하여 제품(객체)을 만들어낸다.
- 추상 팩토리 패턴: 객체를 사용하여 제품(객체)을 만들어낸다.
- 팩토리 메서드 패턴: 상속을 통하여 제품(객체)을 만들어낸다.
  - 객체를 생성할 때 클래스를 확장하고 팩토리 메서드를 오버라이드 해야한다. 
- 추상 팩토리 패턴: 구성(composition)을 통하여 제품(객체)을 만들어낸다.
- 팩토리 메서드 패턴: 하나의 제품을 생산하는 데 필요한 추상 인터페이스를 제공한다.
- 추상 팩토리 패턴: 서로 연관되거나 유사한 제품들을 생산하는데 필요한 인터페이스를 제공한다.